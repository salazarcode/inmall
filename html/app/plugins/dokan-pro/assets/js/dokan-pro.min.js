(()=>{var a={5372:()=>{var a;(a=jQuery)(document).ready((function(){a(".dokan-announcement-wrapper").on("click","a.remove_announcement",(function(t){if(t.preventDefault(),confirm(dokan.delete_confirm)){var e=a(this),i={action:"dokan_announcement_remove_row",row_id:e.data("notice_row"),_wpnonce:dokan.nonce};e.closest(".dokan-announcement-wrapper-item").append('<span class="dokan-loading" style="position:absolute;top:2px; right:15px"> </span>');var n=a(".dokan-announcement-wrapper-item").length;a.post(dokan.ajaxurl,i,(function(t){t.success?(e.closest(".dokan-announcement-wrapper-item").find("span.dokan-loading").remove(),e.closest(".dokan-announcement-wrapper-item").fadeOut((function(){a(this).remove(),1==n&&a(".dokan-announcement-wrapper").html(t.data)}))):alert(dokan.wrong_message)}))}}))}))},9318:()=>{!function(a){a.validator.setDefaults({ignore:":hidden"});var t=function(t,e){a(e).closest(".form-group").addClass("has-error").append(t)},e=function(t,e){a(e).closest(".form-group").removeClass("has-error")};({init:function(){this.couponsValidation(this),a("select#discount_type").on("change",this.type_options).change()},couponsValidation:function(i){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:t,success:e})},type_options:function(){a(this).val().indexOf("percent")>=0?a("#coupon_amount").removeClass("wc_input_price").addClass("wc_input_decimal"):a("#coupon_amount").removeClass("wc_input_decimal").addClass("wc_input_price")}}).init()}(jQuery)},3110:()=>{jQuery(document).ready((function(a){"use strict";function t(t){this.$table=a(t),this.current_tr=null,this.current_tr_posX=0,this.edit_form=null,this.current_product_id=0,this.bindElements()}t.prototype.bindElements=function(){var t=this;t.$table.on("click",".item-inline-edit",(function(e){if(e.preventDefault(),!dokan.is_vendor_enabled)return alert(dokan.not_enable_message);t.$table.find("tr.dokan-product-list-inline-edit-form").addClass("dokan-hide");var i=a(this).children("a");t.current_product_id=i.data("product-id"),t.current_tr=i.parents("tr"),t.current_tr_posX=t.current_tr.offset().top,t.current_tr.addClass("dokan-hide"),t.edit_form=t.current_tr.next(".dokan-product-list-inline-edit-form"),t.edit_form.removeClass("dokan-hide"),t.bindSelect2(),t.scrollTop()})),t.$table.on("click",".inline-edit-cancel",(function(a){a.preventDefault(),t.current_tr.removeClass("dokan-hide").next(".dokan-product-list-inline-edit-form").addClass("dokan-hide"),t.scrollTop()})),t.$table.on("click",".inline-edit-update",(function(e){e.preventDefault();var i=a(this),n=i.parent(),o=i.parents("fieldset");n.addClass("show-loading-animation"),o.attr("disabled","disabled");var s={};t.edit_form.find("[data-field-name]").each((function(){"checkbox"===a(this).attr("type")?s[a(this).data("field-name")]=a(this).is(":checked"):s[a(this).data("field-name")]=a(this).val()})),a.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:{action:"dokan_product_inline_edit",security:dokan.product_inline_edit_nonce,data:s}}).done((function(a){a.data&&a.data.row&&(t.scrollTop(t.current_tr),t.edit_form.addClass("dokan-hide").prev().replaceWith(a.data.row))})).fail((function(a){a.responseJSON&&"string"==typeof a.responseJSON.data&&alert(a.responseJSON.data)})).always((function(){n.removeClass("show-loading-animation"),o.removeAttr("disabled")}))})),t.$table.on("click","[data-field-toggler]",(function(e){var i=a(this).data("field-name"),n=a(this).is(":checked");t.edit_form.find('[data-field-toggle="'+i+'"]').each((function(){var e=a(this),i=e.data("field-show-on");n==i?e.removeClass("dokan-hide"):e.addClass("dokan-hide"),e.find(".dokan-select2").select2("destroy").removeClass("dokan-select2"),t.bindSelect2()}))}))},t.prototype.bindSelect2=function(){this.edit_form.find("select:not(.dokan-select2)").addClass("dokan-select2").select2()},t.prototype.scrollTop=function(){a("html, body").scrollTop(this.current_tr_posX-50)},a(".dokan-inline-editable-table").each((function(){new t(this)}))}))},7636:()=>{jQuery((function(a){var t={init:function(){a("#dokan-variable-product-options").on("change","input.variable_is_downloadable",this.variable_is_downloadable).on("change","input.variable_is_virtual",this.variable_is_virtual).on("change","input.variable_manage_stock",this.variable_manage_stock).on("click",".expand_all",this.expand_all).on("click",".close_all",this.close_all).on("click",".dokan-product-variation-itmes .sort",this.set_menu_order).on("reload",this.reload),a("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").change(),a(".dokan-product-variation-wrapper").on("dokan_variations_loaded",this.variations_loaded),a(document.body).on("dokan_variations_added",this.variation_added),this.variation_toggle_init()},reload:function(){e.load_variations(1),i.set_paginav(0)},variable_is_downloadable:function(){a(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_downloadable").hide(),a(this).is(":checked")&&a(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_downloadable").show()},variable_is_virtual:function(){a(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_virtual").show(),a(this).is(":checked")&&a(this).closest(".dokan-product-variation-itmes").find(".hide_if_variation_virtual").hide()},variable_manage_stock:function(){a(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_manage_stock").hide(),a(this).is(":checked")&&a(this).closest(".dokan-product-variation-itmes").find(".show_if_variation_manage_stock").show()},expand_all:function(t){return a(this).closest("#dokan-variable-product-options-inner").find(".dokan-product-variation-itmes > .dokan-variable-attributes").show(),!1},close_all:function(t){return a(this).closest("#dokan-variable-product-options-inner").find(".dokan-product-variation-itmes > .dokan-variable-attributes").hide(),!1},variation_toggle_init:function(){a(".dokan-attribute-variation-options").on("click","h3.variation-topbar-heading",(function(t){t.preventDefault();var e=a(this);e.closest(".dokan-product-variation-itmes").find(".dokan-variable-attributes").slideToggle(300,(function(){a(this).is(":visible")?e.closest(".dokan-product-variation-itmes").find("i.fa-sort-desc").removeClass("fa-flip-horizointal").addClass("fa-flip-vertical"):e.closest(".dokan-product-variation-itmes").find("i.fa-sort-desc").removeClass("fa-flip-vertical").addClass("fa-flip-horizointal")}))})),a(".dokan-attribute-variation-options").on("click",".toggle-variation-content",(function(t){t.preventDefault();var e=a(this);return e.closest(".dokan-product-variation-itmes").find(".dokan-variable-attributes").slideToggle(300,(function(){a(this).is(":visible")?e.removeClass("fa-flip-horizointal").addClass("fa-flip-vertical"):e.removeClass("fa-flip-vertical").addClass("fa-flip-horizointal")})),!1}))},variations_loaded:function(e,i){i=i||!1;var n=a(".dokan-attribute-variation-options");function o(t){Number(t.closest(".variable_pricing").find("span.vendor-price").text())<0?(t.closest(".variable_pricing").find(".save-variation-changes").attr("disabled","disabled"),t.closest(".variable_pricing").find(".dokan-product-less-price-alert").removeClass("dokan-hide"),a("input[type=submit]").attr("disabled","disabled")):(t.closest(".variable_pricing").find(".dokan-product-less-price-alert").addClass("dokan-hide"),t.closest(".variable_pricing").find(".save-variation-changes").removeAttr("disabled"),a("input[type=submit]").removeAttr("disabled"))}i||(a("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock",n).change(),a(".dokan-product-variation-itmes",n).each((function(t,e){var i=a(e),n=a(".sale_price_dates_from",i).val(),o=a(".sale_price_dates_to",i).val();""===n&&""===o||a("a.sale_schedule",i).click()})),a(".dokan-variations-container .variation-needs-update",n).removeClass("variation-needs-update"),a("button.cancel-variation-changes, button.save-variation-changes",n).attr("disabled","disabled")),a(".tips").tooltip(),a("input.dokan-product-regular-price-variable, input.dokan-product-sales-price-variable").on("keyup",_.debounce((function(){!function(t){var e=a("select#product_cat").find("option:selected");if(""!=e.data("commission")){e.data("commission");var i=e.data("product-id")}else a("span.vendor-earning").data("commission"),i=a("span.vendor-earning").data("product-id");""==a("input.dokan-product-sales-price-variable").val()?a("input.dokan-product-regular-price-variable").each((function(e,n){var s=a(n),r=s.closest(".content-half-part").find("span.vendor-price"),d=a(this).closest(n).val();r.html("Calculating"),a.get(dokan.ajaxurl,{action:"get_vendor_earning",product_id:i,product_price:d,_wpnonce:dokan.nonce}).done((function(a){r.html(a),o(s),"function"==typeof t&&t()}))})):a("input.dokan-product-sales-price-variable").each((function(e,n){var s=a(n),r=s.closest(".variable_pricing").find("span.vendor-price"),d=a(this).closest(n).val();r.html("Calculating"),a.get(dokan.ajaxurl,{action:"get_vendor_earning",product_id:i,product_price:d||0,_wpnonce:dokan.nonce}).done((function(a){r.html(a),o(s),"function"==typeof t&&t()})),o(s)}))}()}),750)),a(".dokan-start-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(t){var e=new Date(t);e.setDate(e.getDate()+1),a(".dokan-end-date").datepicker("option",{minDate:e})}}),a(".dokan-end-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(t){var e=new Date(t);e.setDate(e.getDate()-1),a("dokan-start-date").datepicker("option",{maxDate:e})}}),a(".dokan-variations-container",n).sortable({items:".dokan-product-variation-itmes",cursor:"move",axis:"y",handle:".sort",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,stop:function(){t.variation_row_indexes()}})},variation_added:function(a,e){1===e&&t.variations_loaded(null,!0)},set_menu_order:function(t){t.preventDefault();var i=a(this).closest(".dokan-product-variation-itmes").find(".variation_menu_order"),n=window.prompt(dokan.i18n_enter_menu_order,i.val());null!=n&&(i.val(parseInt(n,10)).change(),e.save_variations())},variation_row_indexes:function(){var t=a("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(t.attr("data-page"),10),i=parseInt((e-1)*dokan.variations_per_page,10);a(".dokan-variations-container .dokan-product-variation-itmes").each((function(t,e){a(".variation_menu_order",e).val(parseInt(a(e).index(".dokan-variations-container .dokan-product-variation-itmes"),10)+1+i).change()}))}},e={init:function(){this.load_variations(),this.initial_load(),a("#dokan-variable-product-options").on("click","button.save-variation-changes",this.save_variations).on("click","button.cancel-variation-changes",this.cancel_variations).on("click",".remove_variation",this.remove_variation),a(document.body).on("change","#dokan-variable-product-options .dokan-variations-container :input",this.input_changed).on("change",".dokan-variations-defaults select",this.defaults_changed),a("form.dokan-product-edit-form").on("submit",this.save_on_submit),a("#dokan-variable-product-options").on("click","a.do_variation_action",this.do_variation_action)},check_for_changes:function(){var t=a("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update");if(0<t.length){if(!window.confirm(dokan.i18n_edited_variations))return t.removeClass("variation-needs-update"),!1;e.save_changes()}return!0},block:function(){a(".dokan-product-variation-wrapper").block({message:null,fadeIn:100,fadeOut:2e3,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){a(".dokan-product-variation-wrapper").unblock()},initial_load:function(){0===a("#dokan-variable-product-options").find(".dokan-variations-container .dokan-product-variation-itmes").length&&i.go_to_page()},load_variations:function(t,i){t=t||1,i=i||dokan.variations_per_page;var n=a("#dokan-variable-product-options").find(".dokan-variations-container");e.block(),a.ajax({url:dokan.ajaxurl,data:{action:"dokan_load_variations",security:dokan.load_variations_nonce,product_id:a("#dokan-edit-product-id").val(),attributes:n.data("attributes"),page:t,per_page:i},type:"POST",success:function(i){n.empty().append(i).attr("data-page",t),a(".dokan-product-variation-wrapper").trigger("dokan_variations_loaded"),e.unblock()}})},get_variations_fields:function(t){var e=a(":input",t).serializeJSON();return a(".dokan-variations-defaults select").each((function(t,i){var n=a(i);e[n.attr("name")]=n.val()})),e},save_changes:function(t){var i=a("#dokan-variable-product-options").find(".dokan-variations-container"),n=a(".variation-needs-update",i),o={};0<n.length&&(e.block(),(o=e.get_variations_fields(n)).action="dokan_save_variations",o.security=dokan.save_variations_nonce,o.product_id=a("#dokan-edit-product-id").val(),o.product_type=a("#product_type").val(),a.ajax({url:dokan.ajaxurl,data:o,type:"POST",success:function(i){n.removeClass("variation-needs-update"),a("button.cancel-variation-changes, button.save-variation-changes").attr("disabled","disabled"),a(".dokan-product-variation-wrapper").trigger("dokan_variations_saved"),"function"==typeof t&&t(i),e.unblock()}}))},save_variations:function(){return a("#dokan-variable-product-options").trigger("dokan_variations_save_variations_button"),e.save_changes((function(t){var e=a("#dokan-variable-product-options").find(".dokan-variations-container"),n=e.attr("data-page");a("#dokan-variable-product-options").find("#dokan_errors").remove(),t&&e.before(t),a(".dokan-variations-defaults select").each((function(){a(this).attr("data-current",a(this).val())})),i.go_to_page(n)})),!1},save_on_submit:function(t){0<a("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update").length&&(t.preventDefault(),a("#dokan-variable-product-options").trigger("dokan_variations_save_variations_on_submit"),e.save_changes(e.save_on_submit_done))},save_on_submit_done:function(){a("form.dokan-product-edit-form").submit()},cancel_variations:function(){var t=parseInt(a("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-page"),10);return a("#dokan-variable-product-options").find(".dokan-variations-container .variation-needs-update").removeClass("variation-needs-update"),a(".dokan-variations-defaults select").each((function(){a(this).val(a(this).attr("data-current"))})),i.go_to_page(t),!1},add_variation:function(){e.block();var t={action:"dokan_add_variation",post_id:a("#dokan-edit-product-id").val(),loop:a(".dokan-product-variation-itmes").length,security:dokan.add_variation_nonce};return a.post(dokan.ajaxurl,t,(function(t){var i=a(t);i.addClass("variation-needs-update"),a("#dokan-variable-product-options").find(".dokan-variations-container").prepend(i),a("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),a(".dokan-product-variation-wrapper").trigger("dokan_variations_added",1);var n=a("#product_type").val(),o=(a("input#_virtual:checked").length,a("input#_downloadable:checked").length,".hide_if_downloadable, .hide_if_virtual"),s=".show_if_downloadable, .show_if_virtual";a.each(["simple","external","variable","grouped","subscription","variable-subscription"],(function(a,t){o=o+", .hide_if_"+t,s=s+", .show_if_"+t})),a(o).show(),a(s).hide(),a(".show_if_"+n).show(),a(".hide_if_"+n).hide(),e.unblock()})),!1},remove_variation:function(t){if(t.preventDefault(),e.check_for_changes(),window.confirm(dokan.i18n_remove_variation)){var n=a(this).attr("rel"),o=[],s={action:"dokan_remove_variation"};e.block(),0<n?(o.push(n),s.variation_ids=o,s.security=dokan.delete_variations_nonce,a.post(dokan.ajaxurl,s,(function(){var t=a("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(t.attr("data-page"),10),n=Math.ceil((parseInt(t.attr("data-total"),10)-1)/dokan.variations_per_page),o=1;a(".dokan-product-variation-wrapper").trigger("dokan_variations_removed"),e===n||e<=n?o=e:e>n&&0!==n&&(o=n),i.go_to_page(o,-1)}))):e.unblock()}return!1},link_all_variations:function(){if(e.check_for_changes(),window.confirm(dokan.i18n_link_all_variations)){e.block();var t={action:"dokan_link_all_variations",post_id:a("#dokan-edit-product-id").val(),security:dokan.link_variation_nonce};a.post(dokan.ajaxurl,t,(function(t){var n=parseInt(t,10);1===n?window.alert(n+" "+dokan.i18n_variation_added):0===n||n>1?window.alert(n+" "+dokan.i18n_variations_added):window.alert(dokan.i18n_no_variations_added),n>0?(i.go_to_page(1,n),a(".dokan-product-variation-wrapper").trigger("dokan_variations_added",n)):e.unblock()}))}return!1},input_changed:function(){a(this).closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),a("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),a(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed")},defaults_changed:function(){a(this).closest("#dokan-variable-product-options").find(".dokan-product-variation-itmes:first").addClass("variation-needs-update"),a("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),a("#dokan-variable-product-options").trigger("dokan_variations_defaults_changed")},do_variation_action:function(){var t,n=a("select.variation-actions").val(),o={},s=0;switch(n){case"add_variation":return void e.add_variation();case"link_all_variations":return void e.link_all_variations();case"delete_all":window.confirm(dokan.i18n_delete_all_variations)&&window.confirm(dokan.i18n_last_warning)&&(o.allowed=!0,s=-1*parseInt(a("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-total"),10));break;case"variable_regular_price_increase":case"variable_regular_price_decrease":case"variable_sale_price_increase":case"variable_sale_price_decrease":null!=(t=window.prompt(dokan.i18n_enter_a_value_fixed_or_percent))&&(t.indexOf("%")>=0?o.value=accounting.unformat(t.replace(/\%/,""),dokan_refund.mon_decimal_point)+"%":o.value=accounting.unformat(t,dokan_refund.mon_decimal_point));break;case"variable_regular_price":case"variable_sale_price":case"variable_stock":case"variable_weight":case"variable_length":case"variable_width":case"variable_height":case"variable_download_limit":case"variable_download_expiry":null!=(t=window.prompt(dokan.i18n_enter_a_value))&&(o.value=t);break;case"variable_sale_schedule":o.date_from=window.prompt(dokan.i18n_scheduled_sale_start),o.date_to=window.prompt(dokan.i18n_scheduled_sale_end),null===o.date_from&&(o.date_from=!1),null===o.date_to&&(o.date_to=!1);break;default:a("select.variation-actions").trigger(n),o=a("select.variation-actions").triggerHandler(n+"_ajax_data",o)}"delete_all"===n&&o.allowed?a("#dokan-variable-product-options").find(".variation-needs-update").removeClass("variation-needs-update"):e.check_for_changes(),e.block(),a.ajax({url:dokan.ajaxurl,data:{action:"dokan_bulk_edit_variations",security:dokan.bulk_edit_variations_nonce,product_id:a("#dokan-edit-product-id").val(),product_type:a("#product_type").val(),bulk_action:n,data:o},type:"POST",success:function(){i.go_to_page(1,s)}})}},i={init:function(){a(document.body).on("dokan_variations_added",this.update_single_quantity).on("change",".dokan-variations-pagenav .page-selector",this.page_selector).on("click",".dokan-variations-pagenav .first-page",this.first_page).on("click",".dokan-variations-pagenav .prev-page",this.prev_page).on("click",".dokan-variations-pagenav .next-page",this.next_page).on("click",".dokan-variations-pagenav .last-page",this.last_page)},update_variations_count:function(t){var e=a("#dokan-variable-product-options").find(".dokan-variations-container"),i=parseInt(e.attr("data-total"),10)+t,n=a(".dokan-variations-pagenav .displaying-num");return e.attr("data-total",i),1===i?n.text(dokan.i18n_variation_count_single.replace("%qty%",i)):n.text(dokan.i18n_variation_count_plural.replace("%qty%",i)),i},update_single_quantity:function(t,e){if(1===e){var n=a(".dokan-variations-pagenav");i.update_variations_count(e),n.is(":hidden")&&(a("option, optgroup","select.variation-actions").show(),a("select.variation-actions").val("add_variation"),a("#dokan-variable-product-options").find(".dokan-variation-action-toolbar").show(),n.show(),a(".pagination-links",n).hide())}},set_paginav:function(t){var e=a("#dokan-variable-product-options").find(".dokan-variations-container"),n=i.update_variations_count(t),o=a("#dokan-variable-product-options").find(".dokan-variation-action-toolbar"),s=a("select.variation-actions"),r=a(".dokan-variations-pagenav"),d=a(".pagination-links",r),c=Math.ceil(n/dokan.variations_per_page),l="";e.attr("data-total_pages",c),a(".total-pages",r).text(c);for(var p=1;p<=c;p++)l+='<option value="'+p+'">'+p+"</option>";a(".page-selector",r).empty().html(l),0===n?(o.not(".toolbar-top, .toolbar-buttons").hide(),r.hide(),a("option, optgroup",s).hide(),a("select.variation-actions").val("add_variation"),a('option[data-global="true"]',s).show()):(o.show(),r.show(),a("option, optgroup",s).show(),a("select.variation-actions").val("add_variation"),1===c?d.hide():d.show())},check_is_enabled:function(t){return!a(t).hasClass("disabled")},change_classes:function(t,e){var i=a(".dokan-variations-pagenav .first-page"),n=a(".dokan-variations-pagenav .prev-page"),o=a(".dokan-variations-pagenav .next-page"),s=a(".dokan-variations-pagenav .last-page");1===t?(i.addClass("disabled"),n.addClass("disabled")):(i.removeClass("disabled"),n.removeClass("disabled")),e===t?(o.addClass("disabled"),s.addClass("disabled")):(o.removeClass("disabled"),s.removeClass("disabled"))},set_page:function(t){a(".dokan-variations-pagenav .page-selector").val(t).first().change()},go_to_page:function(a,t){a=a||1,t=t||0,i.set_paginav(t),i.set_page(a)},page_selector:function(){var t=parseInt(a(this).val(),10),n=a("#dokan-variable-product-options").find(".dokan-variations-container");a(".dokan-variations-pagenav .page-selector").val(t),e.check_for_changes(),i.change_classes(t,parseInt(n.attr("data-total_pages"),10)),e.load_variations(t)},first_page:function(){return i.check_is_enabled(this)&&i.set_page(1),!1},prev_page:function(){if(i.check_is_enabled(this)){var t=a("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(t.attr("data-page"),10)-1,n=0<e?e:1;i.set_page(n)}return!1},next_page:function(){if(i.check_is_enabled(this)){var t=a("#dokan-variable-product-options").find(".dokan-variations-container"),e=parseInt(t.attr("data-total_pages"),10),n=parseInt(t.attr("data-page"),10)+1,o=e>=n?n:e;i.set_page(o)}return!1},last_page:function(){if(i.check_is_enabled(this)){var t=a("#dokan-variable-product-options").find(".dokan-variations-container").attr("data-total_pages");i.set_page(t)}return!1}};a((function(){a("#dokan-variable-product-options").length&&(t.init(),e.init(),i.init())}))}))},3080:()=>{var a,t,e;a=jQuery,t=a("#variants-holder"),(e={init:function(){a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("body, #variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("body, #variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),a(".save_attributes").on("click",this.variants.save),this.variants.dates(),this.variants.initSaleSchedule(),a(".product-edit-new-container").on("click",".snippet-btn",this.editProduct.seo.toggleSnippet),a(".product-edit-new-container").on("input","input.wpseo-title-input, textarea.wpseo-meta-input",this.editProduct.seo.dataRender),a(".product-edit-new-container").on("input","#post_title",this.editProduct.seo.onChangePostTitle),a(".product-edit-new-container").on("change","select#wpseo_title_shortcode, select#wpseo_meta_shortcode",this.editProduct.seo.shortcodeRender),a("input.wpseo-title-input").trigger("input"),a("textarea.wpseo-meta-input").trigger("input"),a(".product-edit-new-container, #product-shipping").on("change","input[type=checkbox]#_overwrite_shipping",this.editProduct.shipping.showHideOverride),a(".product-edit-new-container").on("change","input[type=checkbox]#_disable_shipping",this.editProduct.shipping.disableOverride),a("#product-shipping").on("click","#_disable_shipping",this.shipping.disableOverride),a(".product-edit-new-container, .product_lot_discount").on("change","input[type=checkbox]#_is_lot_discount",this.editProduct.showLotDiscountWrapper),a("body").on("click",".upload_image_button",this.editProduct.loadVariationImage),this.editProduct.shipping.showHideOverride(),this.editProduct.shipping.disableOverride(),this.shipping.disableOverride(),a("#_disable_shipping").trigger("change"),a("#_overwrite_shipping").trigger("change"),a(".hide_if_lot_discount").hide(),a(".hide_if_order_discount").hide(),a("body").on("dokan-product-editor-loaded",this.bindProductTagDropdown),a("body").on("dokan-product-editor-popup-opened",this.bindProductTagDropdown)},editProduct:{showLotDiscountWrapper:function(){a(this).is(":checked")?a(".show_if_needs_lot_discount").slideDown("fast"):a(".show_if_needs_lot_discount").slideUp("fast")},loadVariationImage:function(t){var e;t.preventDefault();var i=a(this),n=i.attr("rel"),o=i.closest(".upload_image");if(setting_variation_image=o,placeholder_iamge=dokan.dokan_placeholder_img_src,setting_variation_image_id=n,t.preventDefault(),i.is(".dokan-img-remove"))setting_variation_image.find(".upload_image_id").val(""),setting_variation_image.find("img").attr("src",placeholder_iamge),setting_variation_image.find(".upload_image_button").removeClass("dokan-img-remove"),i.closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),a("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),a(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed");else{if(e)return e.uploader.uploader.param("post_id",setting_variation_image_id),void e.open();wp.media.model.settings.post.id=setting_variation_image_id,wp.media.model.settings.type="dokan",(e=wp.media.frames.variable_image=wp.media({title:dokan.i18n_choose_image,button:{text:dokan.i18n_set_image}})).on("select",(function(){attachment=e.state().get("selection").first().toJSON(),setting_variation_image.find(".upload_image_id").val(attachment.id),setting_variation_image.find(".upload_image_button").addClass("dokan-img-remove"),setting_variation_image.find("img").attr("src",attachment.url),i.closest(".dokan-product-variation-itmes").addClass("variation-needs-update"),a("button.cancel-variation-changes, button.save-variation-changes").removeAttr("disabled"),a(".dokan-product-variation-wrapper").trigger("dokan_variations_input_changed"),wp.media.model.settings.post.id=setting_variation_image_id})),e.open()}},seo:{toggleSnippet:function(){a(".dokan-seo-snippet-edit-wrap").toggle()},replaceShortCodes:function(a,t){var e=Object.keys(t),i=0;for(i=0;i<e.length;i++){var n=e[i].replace(/\[/g,"\\[").replace(/\]/g,"\\]"),o=new RegExp(n,"gi");a&&(a=a.replace(o,t[e[i]]))}return a},dataRender:function(){var t=a(this),i=t.val(),n={"[title]":t.data("title"),"[sep]":t.data("sep"),"[sitename]":t.data("sitename")};""==i&&("text"==t[0].type&&(i="[title] [sep] [sitename]",t.val(i)),"textarea"==t[0].type&&(i=a(".seo-snippet").find(".seo-meta").data("default"),t.val(i)));var o=e.editProduct.seo.replaceShortCodes(i,n);a(".dokan-seo-product-options").find(t.data("class")).html(o)},shortcodeRender:function(){var t=a(this),e=t.val();if(""!=e){var i=jQuery(t.data("class")),n=i[0].selectionStart,o=i.val();i.val(o.substring(0,n)+" "+e+" "+o.substring(n)),i.trigger("input").trigger("focus")}},onChangePostTitle:function(){var t=a(this).val();a('[name="_yoast_wpseo_title"], [name="_yoast_wpseo_metadesc"]').data("title",t).trigger("input")}},shipping:{showHideOverride:function(){a("#_overwrite_shipping").is(":checked")?a(".show_if_override").show():a(".show_if_override").hide()},disableOverride:function(){a("#_disable_shipping").is(":checked")?(a(".show_if_needs_shipping").show(),a("#_overwrite_shipping").trigger("change")):a(".show_if_needs_shipping").hide()}}},variants:{addCategory:function(e){e.preventDefault();var i=a("#product_type").val(),n=a(this).closest("p.toolbar").find("select.select-attribute").val(),o=a(".inputs-box").length;if(""==n){var s=wp.template("sc-category");t.append(s({row:o})).children(":last").hide().fadeIn()}else{var r={row:o,name:n,type:i,action:"dokan_pre_define_attribute"};a("#product-attributes .toolbar").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(dokan.ajaxurl,r,(function(e){e.success&&t.append(e.data).children(":last").hide().fadeIn(),a("#product-attributes .toolbar").unblock()}))}"simple"===product_type&&t.find(".show_if_variable").hide()},removeCategory:function(t){t.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut((function(){a(this).remove()}))},addItem:function(t){t.preventDefault();var e=a(this),i=e.closest(".inputs-box"),n=e.closest("ul.option-couplet").find("li").length,o=i.data("count"),s=_.template(a("#tmpl-sc-category-item").html());e.closest("li").after(s({row:o,col:n}))},removeItem:function(t){t.preventDefault(),a(this).parents("ul").find("li").length>1&&a(this).parents("li").fadeOut((function(){a(this).remove()}))},save:function(){var t={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},e=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,t,(function(t){a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(e+" #variable_product_options_inner",(function(){a("#variable_product_options").unblock()})),a("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").trigger("change"),a("#variants-holder").unblock()}))},initSaleSchedule:function(){a(".sale_price_dates_fields").each((function(){var t=a(this),e=!1,i=t.closest("div, table");t.find("input").each((function(){""!=a(this).val()&&(e=!0)})),e?(i.find(".sale_schedule").hide(),i.find(".cancel_sale_schedule").show(),i.find(".sale_price_dates_fields").show()):(i.find(".sale_schedule").show(),i.find(".cancel_sale_schedule").hide(),i.find(".sale_price_dates_fields").hide())}))},saleSchedule:function(){var t=a(this).closest("div, table");return a(this).hide(),t.find(".cancel_sale_schedule").show(),t.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var t=a(this).closest("div, table");return a(this).hide(),t.find(".sale_schedule").show(),t.find(".sale_price_dates_fields").hide(),t.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){a('.sale_price_dates_fields input[name="_sale_price_dates_from"]').datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(t){var e=new Date(t);e.setDate(e.getDate()+1),a('input[name="_sale_price_dates_to"]').datepicker("option",{minDate:e})}}),a('.sale_price_dates_fields input[name="_sale_price_dates_to"]').datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(a){var t=new Date(a);t.setDate(t.getDate()-1)}})},onVariantAdded:function(){e.variants.dates()}},sidebarToggle:{showStatus:function(t){var e=a(this).siblings(".dokan-toggle-select-container");return e.is(":hidden")&&(e.slideDown("fast"),a(this).hide()),!1},saveStatus:function(t){var e=a(this).closest(".dokan-toggle-select-container");e.slideUp("fast"),e.siblings("a.dokan-toggle-edit").show();var i=a("option:selected",e.find("select.dokan-toggle-select")).text();return e.siblings(".dokan-toggle-selected-display").html(i),!1},cancel:function(t){var e=a(this).closest(".dokan-toggle-select-container");return e.slideUp("fast"),e.siblings("a.dokan-toggle-edit").show(),!1}},shipping:{disableOverride:function(){a("#_disable_shipping").is(":checked")?a(".hide_if_disable").hide():(a(".hide_if_disable").show(),e.editProduct.shipping.showHideOverride())}},bindProductTagDropdown:function(){dokan.product_vendors_can_create_tags&&"on"===dokan.product_vendors_can_create_tags&&a("#product_tag").select2({tags:!0,language:{noResults:function(){return dokan.i18n_no_result_found}}})}}).init()},784:()=>{var a,t;a=jQuery,t={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(t){t.preventDefault();var e=a(this),i=e.data("comment_id"),n=e.data("cmt_status"),o=e.data("page_status"),s=e.data("post_type"),r=e.data("curr_page"),d=e.closest("tr"),c={action:"dokan_comment_status",comment_id:i,comment_status:n,page_status:o,post_type:s,curr_page:r,nonce:dokan.nonce};a.post(dokan.ajaxurl,c,(function(t){0==t.success?alert(t.data):(1!==o||1!==n&&0!==n?d.fadeOut((function(){a(this).remove()})):d.fadeOut((function(){d.replaceWith(t.data.content).fadeIn()})),null==t.data.pending&&(t.data.pending=0),null==t.data.spam&&(t.data.spam=0),null==t.data.trash&&(t.data.trash=0),null==t.data.approved&&(t.data.approved=0),a(".comments-menu-approved").text(t.data.approved),a(".comments-menu-pending").text(t.data.pending),a(".comments-menu-spam").text(t.data.spam),a(".comments-menu-trash").text(t.data.trash))}))}},a((function(){t.init()}))},5049:()=>{var a,t;a=jQuery,t={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(t){t.preventDefault();var e=a(this),i=e.data("comment_id"),n=e.data("cmt_status"),o=e.data("page_status"),s=e.data("post_type"),r=e.data("curr_page"),d=e.closest("tr"),c={action:"dokan_comment_status",comment_id:i,comment_status:n,page_status:o,post_type:s,curr_page:r,nonce:dokan.nonce};a.post(dokan.ajaxurl,c,(function(t){1!==o||1!==n&&0!==n?d.fadeOut((function(){a(this).remove()})):d.fadeOut((function(){d.replaceWith(t.data.content).fadeIn()})),null==t.data.pending&&(t.data.pending=0),null==t.data.spam&&(t.data.spam=0),null==t.data.trash&&(t.data.trash=0),a(".comments-menu-pending").text(t.data.pending),a(".comments-menu-spam").text(t.data.spam),a(".comments-menu-trash").text(t.data.trash)}))},populateForm:function(t){t.preventDefault();var e=a(this).closest("tr");if(e.next().hasClass("dokan-comment-edit-row"))e.next().remove();else{var i=a("#dokan-edit-comment-row").html(),n={author:e.find(".dokan-cmt-hid-author").text(),email:e.find(".dokan-cmt-hid-email").text(),url:e.find(".dokan-cmt-hid-url").text(),body:e.find(".dokan-cmt-hid-body").text(),id:e.find(".dokan-cmt-hid-id").text(),status:e.find(".dokan-cmt-hid-status").text()};e.after(_.template(i,n))}},closeForm:function(t){t.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(t){t.preventDefault();var e=a(this).closest("tr.dokan-comment-edit-row"),i={action:"dokan_update_comment",comment_id:e.find("input.dokan-cmt-id").val(),content:e.find("textarea.dokan-cmt-body").val(),author:e.find("input.dokan-cmt-author").val(),email:e.find("input.dokan-cmt-author-email").val(),url:e.find("input.dokan-cmt-author-url").val(),status:e.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:e.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,i,(function(a){!0===a.success?(e.prev().replaceWith(a.data),e.remove()):alert(a.data)}))}},a((function(){t.init()}))},4384:()=>{var a;(a=jQuery)(document).ready((function(){a(".dokan-shipping-location-wrapper").on("change",".dps_country_selection",(function(){var t=a(this),e={country_id:t.find(":selected").val(),action:"dps_select_state_by_country"};""==t.val()||"everywhere"==t.val()?t.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(""):a.post(dokan.ajaxurl,e,(function(a){a.success&&t.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(a.data)}))})),a(".dps-main-wrapper").on("click","a.dps-shipping-add",(function(t){t.preventDefault();var e=a("#dps-shipping-hidden-lcoation-content"),i=a(e).first().clone().appendTo(a(".dokan-shipping-location-wrapper")).show();a(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content").first().find("a.dps-shipping-remove").show(),a(".tips").tooltip(),i.removeAttr("id"),i.find("input,select").val(""),i.find("a.dps-shipping-remove").show()})),a(".dokan-shipping-location-wrapper").on("click","a.dps-shipping-remove",(function(t){t.preventDefault(),a(this).closest(".dps-shipping-location-content").remove(),$dpsElm=a(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content"),1==$dpsElm.length&&$dpsElm.first().find("a.dps-shipping-remove").hide()})),a(".dokan-shipping-location-wrapper").on("click","a.dps-add",(function(t){t.preventDefault();var e=a(this).closest("tr").first().clone().appendTo(a(this).closest("table.dps-shipping-states"));e.find("input,select").val(""),e.find("a.dps-remove").show(),a(".tips").tooltip()})),a(".dokan-shipping-location-wrapper").on("click","a.dps-remove",(function(t){t.preventDefault(),1==a(this).closest("table.dps-shipping-states").find("tr").length&&a(this).closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show(),a(this).closest("tr").remove()})),a(".dokan-shipping-location-wrapper").on("change keyup",".dps_state_selection",(function(){var t=a(this);""==t.val()||"-1"==t.val()?t.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show():t.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").hide()})),a(".dokan-shipping-location-wrapper .dps_state_selection").trigger("change"),a(".dokan-shipping-location-wrapper .dps_state_selection").trigger("keyup");var t=a(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content");1==t.length&&t.first().find("a.dps-shipping-remove").hide()}))},746:()=>{var a,t,e;a=jQuery,t=a(".dokan-store-seo-wrapper"),e={init:function(){t.on("submit","form#dokan-store-seo-form",this.form.validate)},form:{validate:function(t){t.preventDefault();var i={action:"dokan_seo_form_handler",data:a(this).serialize()};return e.form.submit(i),!1},submit:function(t){var e=a("#dokan-seo-feedback");e.fadeOut(),a.post(dokan.ajaxurl,t,(function(a){a.success?(e.html(a.data),e.removeClass("dokan-hide"),e.addClass("dokan-alert-success"),e.fadeIn()):(e.html(a.data),e.addClass("dokan-alert-danger"),e.removeClass("dokan-hide"),e.fadeIn())}))}}},a((function(){e.init()}))}},t={};function e(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return a[i](o,o.exports,e),o.exports}(()=>{"use strict";var a,t;e(5372),e(9318),e(3110),e(7636),e(3080),e(784),e(5049),e(4384);function i(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=a[e];return i}function n(a){return function(a){if(Array.isArray(a))return i(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return i(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a=jQuery,t={itemArray:[],itemSlugs:[],itemString:"",init:function(){a("#dokan-store-listing-filter-form-wrap .store-lists-category .category-input").on("click",this.toggleCategory),a("body").on("click",this.hideCategory),a("#dokan-store-listing-filter-form-wrap .store-lists-category .category-box ul li").on("click",this.selectCategory),a("#dokan-store-listing-filter-form-wrap .featured.item #featured").on("change",this.toggleFeatured),a("#dokan-store-listing-filter-form-wrap .open-now.item #open-now").on("change",this.toggleIsOpen),a("#dokan-store-listing-filter-form-wrap .store-ratings.item i").on("click",this.setRatings);var e=dokan.storeLists.getParams();e.length&&e.forEach((function(a){t.setParams(Object.keys(a),Object.values(a))})),this.makeStyleAdjustment()},toggleCategory:function(){a(".store-lists-category .category-box").slideToggle(),a(".store-lists-category .category-input .dokan-icon").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2")},hideCategory:function(t){var e=a(t.target);e.is("div.store_category")||e.is("span.dokan-icon")||e.is("div.store-lists-category")||e.is("li")||e.is("ul")||e.is("div.category-input")||e.is("span.category-label")||e.is("span.category-items")||(a(".store-lists-category .category-box").hide(),a(".store-lists-category .category-input .dokan-icon").addClass("dashicons-arrow-down-alt2"))},selectCategory:function(e){var i=a(e.target),n=i.text().trim(),o=i.data("slug"),s=t;if(i.toggleClass("dokan-btn-theme"),s.itemSlugs.includes(o)){var r=s.itemSlugs.indexOf(o);s.itemArray.splice(r,1),s.itemSlugs.splice(r,1)}else s.itemArray.push(n),s.itemSlugs.push(o);dokan.storeLists.query.store_categories=s.itemSlugs;var d=s.itemArray.join(", ");s.setCategoryHolder(d)},toggleFeatured:function(a){delete dokan.storeLists.query.featured,a.target.checked&&(dokan.storeLists.query.featured="yes")},toggleIsOpen:function(a){delete dokan.storeLists.query.open_now,a.target.checked&&(dokan.storeLists.query.open_now="yes")},setRatings:function(t){t.preventDefault();var e=a(t.target),i=e.parent();i.addClass("selected"),n(i.find("i")).forEach((function(t){e.is(t)?a(t).hasClass("active")?(i.removeClass("selected"),a(t).removeClass("active")):a(t).addClass("active"):a(t).removeClass("active")})),dokan.storeLists.query.rating!=e.data("rating")?dokan.storeLists.query.rating=e.data("rating"):delete dokan.storeLists.query.rating},setParams:function(e,i){var n=t,o=window.dokan.storeLists;if(e.forEach((function(a,t){var e=a.indexOf("[");e>0&&(n.itemSlugs.push(i[t]),o.query[a.substr(0,e)]=n.itemSlugs)})),a(".category-items"),o.cateItemStringArray.length){n.itemArray=o.cateItemStringArray;var s=n.itemArray.join(", ");n.setCategoryHolder(s)}},setCategoryHolder:function(t){var e=a(".category-items");if(!t)return e.text(dokan.all_categories);t.length>15?e.text(" ").append(t.substr(0,15)+"..."):e.text(" ").append(t)},makeStyleAdjustment:function(){var t=a(".store-lists-other-filter-wrap");t&&t.children()&&2===t.children().length&&t.children().first()&&t.children().first().hasClass("featured")&&a("#dokan-store-listing-filter-form-wrap .apply-filter").css("margin-top","15px")}},window.dokan&&window.dokan.storeLists&&t.init();e(746);!function(a){({init:function(){var t={d:"dd",D:"D",j:"d",l:"DD",F:"MM",m:"mm",M:"M",n:"m",o:"yy",Y:"yy",y:"y"},e=0,i="",n="";for(e=0;e<dokan.i18n_date_format.length;e++)n+=(i=dokan.i18n_date_format[e])in t?t[i]:i;a(".shipped_status_date").datepicker({dateFormat:n,minDate:0}),a("body").on("change","#shipping_status_provider",(function(t){t.preventDefault(),"sp-other"==a(this).val()?a(".tracking-status-other-url").show():a(".tracking-status-other-url").hide()})),a("body").on("change",".update_shipping_provider",(function(t){t.preventDefault();var e=a(this).data("shipment_id");"sp-other"==a(this).val()?a(".tracking-status-other-area-"+e).show():a(".tracking-status-other-area-"+e).hide()})),a("body").on("click","#create-tracking-status-action",(function(t){t.preventDefault(),a(this).hide(),a("#dokan-order-shipping-status-tracking").show(),a(".no-shipment-found-desc").hide()})),a("body").on("click","#cancel-tracking-status-details",(function(t){t.preventDefault(),a("#dokan-order-shipping-status-tracking").hide(),a("#create-tracking-status-action").show(),a(".no-shipment-found-desc").show()})),a("body").on("click",".shipment-notes-details-tab-toggle",(function(t){t.preventDefault();var e=a(this).data("shipment_id");a(".shipment-list-notes-inner-area"+e).toggle(),a(this).find("span").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2")})),a("body").on("click",".shipment-item-details-tab-toggle",(function(){var t=a(this).data("shipment_id");return a(".shipment_body_"+t).toggle(),a(".shipment_footer_"+t).toggle(),a(this).find("span").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2"),!1})),a("body").on("click",".shipment_order_item_select",(function(){var t=a(this).data("order_item_id");a(".shipping_order_item_qty_"+t).toggle()})),a("body").on("click","#add-tracking-status-details",this.insertShippingStatusTrackingInfo),a("body").on("click","#update-tracking-status-details",this.updateShippingStatusTrackingInfo)},insertShippingStatusTrackingInfo:function(t){t.preventDefault(),a("#add-tracking-status-details").prop("disabled",!0),a("#shipment-update-response-area").html(""),a("#shipment-update-response-area").removeClass("dokan-alert dokan-alert-success dokan-alert-warning");var e,i={};a(".shipping-tracking input.shipping_order_item_qty").each((function(t,e){if(a(e).closest("tr").data("shipping_order_item_id")){var n=a(e).closest("tr").data("shipping_order_item_id");e.value&&a("#shipment_order_item_select_"+n).is(":checked")&&(i[n]=e.value)}})),e=a('input[name="shipping_order_item_id[]"]').map((function(){if(this.value&&a("#shipment_order_item_select_"+this.value).is(":checked"))return this.value})).get();var n={shipping_provider:a("#shipping_status_provider").val(),shipping_number:a("#tracking_status_number").val(),shipped_date:a("#shipped_status_date").val(),shipped_status:a("#shipping_status").val(),is_notify:a("#shipped_status_is_notify").is(":checked")?a("#shipped_status_is_notify").val():"off",action:a("#action").val(),post_id:a("#post-id").val(),security:a("#security").val(),other_provider:a("#tracking_status_other_provider").val(),other_p_url:a("#tracking_status_other_p_url").val(),shipment_comments:a("#tracking_status_comments").val(),item_id:JSON.stringify(e,null,""),item_qty:JSON.stringify(i,null,"")};return a("#dokan-order-shipping-status-tracking").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,n,(function(t){t?(a("#shipment-update-response-area").html(t),a("#shipment-update-response-area").addClass("dokan-alert dokan-alert-success")):(a("#shipment-update-response-area").html(dokan.shipment_status_error_msg),a("#shipment-update-response-area").addClass("dokan-alert dokan-alert-warning")),a("#dokan-order-shipping-status-tracking").unblock(),t&&location.reload(),a("#add-tracking-status-details").prop("disabled",!1)})),!1},updateShippingStatusTrackingInfo:function(t){t.preventDefault();var e=a(this).data("shipment_id");a("#shipment-update-response-area_"+e).html("");var i,n,o,s=(i={shipped_status:a("#update_shipping_status_"+e).val(),shipping_provider:a("#update_shipping_provider_"+e).val(),shipped_status_date:a("#shipped_status_date_"+e).val(),tracking_status_number:a("#tracking_status_number_"+e).val(),status_other_provider:a("#tracking_status_other_provider_"+e).val(),status_other_p_url:a("#tracking_status_other_p_url_"+e).val(),shipment_comments:a("#tracking_status_comments_"+e).val(),is_notify:a("#shipment_update_is_notify_"+e).is(":checked")?a("#shipment_update_is_notify_"+e).val():"off",action:"dokan_update_shipping_status_tracking_info",shipment_id:e,post_id:a("#post-id").val(),security:a("#security_update").val()},n="security",o=a("#security_update").val(),n in i?Object.defineProperty(i,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[n]=o,i);return a(".shipment_id_"+e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,s,(function(t){a(".shipment_id_"+e).unblock(),t&&(a(".status_label_"+e).html(t),a("#tracking_status_comments_"+e).val(""),a("#shipment-update-response-area_"+e).html(dokan.shipment_status_update_msg),setTimeout((function(){a("#shipment-update-response-area_"+e).html("")}),3e3),"Delivered"!=t&&"Cancelled"!=t||location.reload())})),!1}}).init()}(jQuery)})()})();